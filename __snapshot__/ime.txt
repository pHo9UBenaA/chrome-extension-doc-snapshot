
  
  
  
  
  

  
    
    
    
  
  
    
    
    
      
  
    
        Home
      
  
  
    
  
  
  
    
      
      
    
    
    
      
  
    
        Docs
      
  
  
    
  
  
  
    
      
      
    
    
    
      
  
    
        Chrome Extensions
      
  
  
    
  
  
  
    
      
      
    
    
    
      
  
    
        Reference
      
  
  
    
  
  
  
    
      
      
    
    
    
      
  
    
        API
      
  
  
    
  
  

    
      
    
    
  
    
  
  
    
      chrome.input.ime
      
  
    

    
    

    
      
      Stay organized with collections
    
    
      
      Save and categorize content based on your preferences.
    
  
  
  
    
  
  

  
  
  
    
  

  








  
    
.dcc-reference{--color-hairline: #dadce0;--color-blue-lightest: rgba(232, 240, 254, 0.4);--color-blue-lighter: #d2e3fc;--color-blue-medium: #1967d2;--color-blue-darkest: #174ea6;--rgb-blue-darkest: 23, 78, 166;--color-yellow-lightest: rgba(254, 247, 224, 0.3);--color-yellow-lighter: #feefc3;--color-yellow-medium: #f29900;--color-yellow-darkest: #de7100;--rgb-yellow-darkest: 227, 117, 0;--color-red-lightest: rgba(252, 232, 230, 0.4);--color-red-lighter: rgba(252, 232, 230, 0.5);--color-red-medium: #c5221f;--color-red-darkest: #9f0e0e;--rgb-red-darkest: 165, 14, 14;--color-green-lightest: rgba(230, 244, 234, 0.4);--color-green-lighter: #ceead6;--color-green-medium: #188038;--color-green-darkest: #0d652d;--rgb-green-darkest: 13, 101, 45;--color-purple-lightest: rgba(243, 232, 253, 0.4);--color-purple-lighter: rgba(243, 232, 253, 0.5);--color-purple-medium: #8430ce;--color-purple-darkest: #681da8;--rgb-purple-darkest: 104, 29, 168;--color-pink-lightest: rgba(253, 231, 243, 0.4);--color-pink-lighter: rgba(253, 231, 243, 0.5);--color-pink-medium: #d01884;--color-pink-darkest: #9c166b;--rgb-pink-darkest: 156, 22, 107}.dcc-type--label{font-weight:500;font-size:.75rem;line-height:1.3333333333}.dcc-type--xsmall{font-size:.75rem;line-height:1.6666666667}h2.dcc-api-title{display:none}.dcc-code-sections ul{padding-left:0}.dcc-code-sections .dcc-code-sections{border:1px solid var(--color-hairline);padding:calc(1rem - 1px)}.dcc-code-sections .dcc-code-sections ul>li:first-child{border-top:0;padding-top:0}.dcc-code-sections .dcc-code-sections devsite-code{margin-left:calc(-1rem + 1px);margin-right:calc(-1rem + 1px)}.dcc-code-sections .dcc-type--small{font-size:.875em;line-height:2em}.dcc-code-sections__label{font-size:.875rem;line-height:2}.dcc-code-sections__type>:not(:last-child){margin-right:.5ch}.dcc-code-sections__enum{margin-bottom:1rem}.dcc-code-sections__icon::before{background:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuNzc2MzkgMS41NTI3OUM3LjkxNzE2IDEuNDgyNCA4LjA4Mjg0IDEuNDgyNCA4LjIyMzYxIDEuNTUyNzlMMTQuMjIzNiA0LjU1Mjc5QzE0LjM5MyA0LjYzNzQ4IDE0LjUgNC44MTA2MSAxNC41IDVWMTFDMTQuNSAxMS4xODk0IDE0LjM5MyAxMS4zNjI1IDE0LjIyMzYgMTEuNDQ3Mkw4LjIyMzYxIDE0LjQ0NzJDOC4wODI4NCAxNC41MTc2IDcuOTE3MTYgMTQuNTE3NiA3Ljc3NjM5IDE0LjQ0NzJMMS43NzYzOSAxMS40NDcyQzEuNjA3IDExLjM2MjUgMS41IDExLjE4OTQgMS41IDExVjVDMS41IDQuODEwNjEgMS42MDcgNC42Mzc0OCAxLjc3NjM5IDQuNTUyNzlMNy43NzYzOSAxLjU1Mjc5Wk0yLjUgNS44MDkwMlYxMC42OTFMNy41IDEzLjE5MVY4LjMwOTAyTDIuNSA1LjgwOTAyWk04LjUgOC4zMDkwMlYxMy4xOTFMMTMuNSAxMC42OTFWNS44MDkwMkw4LjUgOC4zMDkwMlpNMTIuODgyIDVMOCA3LjQ0MDk4TDMuMTE4MDMgNUw4IDIuNTU5MDJMMTIuODgyIDVaIiBmaWxsPSIjNUY2MzY4Ii8+Cjwvc3ZnPgo=") center/contain no-repeat;content:"";display:inline-block;height:1.25em;margin-right:.5ch;vertical-align:middle;width:1.25em}.dcc-code-sections__icon.dcc-code-sections__icon--number::before{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNiAyLjVINFY0LjVINlYyLjVaIiBmaWxsPSIjNUY2MzY4Ii8+CjxwYXRoIGQ9Ik02IDUuNUg0VjcuNUg2VjUuNVoiIGZpbGw9IiM1RjYzNjgiLz4KPHBhdGggZD0iTTQgOC41SDZWMTAuNUg0VjguNVoiIGZpbGw9IiM1RjYzNjgiLz4KPHBhdGggZD0iTTkgMi41SDdWNC41SDlWMi41WiIgZmlsbD0iIzVGNjM2OCIvPgo8cGF0aCBkPSJNNyA1LjVIOVY3LjVIN1Y1LjVaIiBmaWxsPSIjNUY2MzY4Ii8+CjxwYXRoIGQ9Ik05IDguNUg3VjEwLjVIOVY4LjVaIiBmaWxsPSIjNUY2MzY4Ii8+CjxwYXRoIGQ9Ik03IDExLjVIOVYxMy41SDdWMTEuNVoiIGZpbGw9IiM1RjYzNjgiLz4KPHBhdGggZD0iTTEyIDIuNUgxMFY0LjVIMTJWMi41WiIgZmlsbD0iIzVGNjM2OCIvPgo8cGF0aCBkPSJNMTAgNS41SDEyVjcuNUgxMFY1LjVaIiBmaWxsPSIjNUY2MzY4Ii8+CjxwYXRoIGQ9Ik0xMiA4LjVIMTBWMTAuNUgxMlY4LjVaIiBmaWxsPSIjNUY2MzY4Ii8+Cjwvc3ZnPgo=")}.dcc-code-sections__icon.dcc-code-sections__icon--string::before{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNC43MTQyOSAxMkg1Ljg1NzE0TDcuMjg1NzEgOC4yODU3MVY0LjVDNy4yODU3MSA0LjIyMzg2IDcuMDYxODYgNCA2Ljc4NTcxIDRIMy41QzMuMjIzODYgNCAzIDQuMjIzODYgMyA0LjVWNy43ODU3MUMzIDguMDYxODYgMy4yMjM4NiA4LjI4NTcxIDMuNSA4LjI4NTcxSDYuMTQyODZMNC43MTQyOSAxMlpNMTAuNDI4NiAxMkgxMS41NzE0TDEzIDguMjg1NzFWNC41QzEzIDQuMjIzODYgMTIuNzc2MSA0IDEyLjUgNEg5LjIxNDI5QzguOTM4MTQgNCA4LjcxNDI5IDQuMjIzODYgOC43MTQyOSA0LjVWNy43ODU3MUM4LjcxNDI5IDguMDYxODYgOC45MzgxNCA4LjI4NTcxIDkuMjE0MjkgOC4yODU3MUgxMS44NTcxTDEwLjQyODYgMTJaIiBmaWxsPSIjNUY2MzY4Ii8+Cjwvc3ZnPgo=")}.dcc-code-sections__icon.dcc-code-sections__icon--boolean::before{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTIuMzUzNiA1Ljg1MzU1TDExLjY0NjQgNS4xNDY0NUw3IDkuNzkyODlMNC44NTM1NSA3LjY0NjQ1TDQuMTQ2NDUgOC4zNTM1NUw3IDExLjIwNzFMMTIuMzUzNiA1Ljg1MzU1WiIgZmlsbD0iIzVGNjM2OCIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTIgM0MyIDIuNDQ3NzIgMi40NDc3MiAyIDMgMkgxM0MxMy41NTIzIDIgMTQgMi40NDc3MiAxNCAzVjEzQzE0IDEzLjU1MjMgMTMuNTUyMyAxNCAxMyAxNEgzQzIuNDQ3NzIgMTQgMiAxMy41NTIzIDIgMTNWM1pNMyAzSDEzVjEzSDNMMyAzWiIgZmlsbD0iIzVGNjM2OCIvPgo8L3N2Zz4K")}.dcc-code-sections__icon.dcc-code-sections__icon--function::before{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTMuNSA0QzMuNSAyLjYxOTI5IDQuNjE5MjkgMS41IDYgMS41SDYuNVYyLjVINkM1LjE3MTU3IDIuNSA0LjUgMy4xNzE1NyA0LjUgNFY1Ljc2MzkzQzQuNSA2LjcxMDg2IDMuOTY0OTkgNy41NzY1MiAzLjExODAzIDhDMy45NjQ5OSA4LjQyMzQ4IDQuNSA5LjI4OTE0IDQuNSAxMC4yMzYxVjEyQzQuNSAxMi44Mjg0IDUuMTcxNTcgMTMuNSA2IDEzLjVINi41VjE0LjVINkM0LjYxOTI5IDE0LjUgMy41IDEzLjM4MDcgMy41IDEyVjEwLjIzNjFDMy41IDkuNjY3OTEgMy4xNzkgOS4xNDg1MiAyLjY3MDgyIDguODk0NDNMMS43NzYzOSA4LjQ0NzIxQzEuNjA3IDguMzYyNTIgMS41IDguMTg5MzkgMS41IDhDMS41IDcuODEwNjEgMS42MDcgNy42Mzc0OCAxLjc3NjM5IDcuNTUyNzlMMi42NzA4MiA3LjEwNTU3QzMuMTc5IDYuODUxNDggMy41IDYuMzMyMDkgMy41IDUuNzYzOTNWNFpNMTAgMi41SDkuNVYxLjVIMTBDMTEuMzgwNyAxLjUgMTIuNSAyLjYxOTI5IDEyLjUgNFY1Ljc2MzkzQzEyLjUgNi4zMzIwOSAxMi44MjEgNi44NTE0OCAxMy4zMjkyIDcuMTA1NTdMMTQuMjIzNiA3LjU1Mjc5QzE0LjM5MyA3LjYzNzQ4IDE0LjUgNy44MTA2MSAxNC41IDhDMTQuNSA4LjE4OTM5IDE0LjM5MyA4LjM2MjUyIDE0LjIyMzYgOC40NDcyMUwxMy4zMjkyIDguODk0NDNDMTIuODIxIDkuMTQ4NTIgMTIuNSA5LjY2NzkxIDEyLjUgMTAuMjM2MVYxMkMxMi41IDEzLjM4MDcgMTEuMzgwNyAxNC41IDEwIDE0LjVIOS41VjEzLjVIMTBDMTAuODI4NCAxMy41IDExLjUgMTIuODI4NCAxMS41IDEyVjEwLjIzNjFDMTEuNSA5LjI4OTE0IDEyLjAzNSA4LjQyMzQ4IDEyLjg4MiA4QzEyLjAzNSA3LjU3NjUyIDExLjUgNi43MTA4NiAxMS41IDUuNzYzOTNWNEMxMS41IDMuMTcxNTcgMTAuODI4NCAyLjUgMTAgMi41WiIgZmlsbD0iIzVGNjM2OCIvPgo8L3N2Zz4K")}.dcc-code-sections__icon.dcc-code-sections__icon--array::before{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyIDYuNUg0VjkuNUgxMlY2LjVaTTEyIDUuNUg0VjNIMTJWNS41Wk0xMyAzQzEzIDIuNDQ3NzIgMTIuNTUyMyAyIDEyIDJINEMzLjQ0NzcyIDIgMyAyLjQ0NzcyIDMgM1YxM0MzIDEzLjU1MjMgMy40NDc3MiAxNCA0IDE0SDEyQzEyLjU1MjMgMTQgMTMgMTMuNTUyMyAxMyAxM1YzWk0xMiAxMC41SDRWMTNIMTJWMTAuNVoiIGZpbGw9IiM1RjYzNjgiLz4KPC9zdmc+Cg==")}.dcc-code-sections__icon.dcc-code-sections__icon--reference::before{background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMyAySDhWM0gzTDMgMTNIMTNWOEgxNFYxM0MxNCAxMy41NTIzIDEzLjU1MjMgMTQgMTMgMTRIM0MyLjQ0NzcyIDE0IDIgMTMuNTUyMyAyIDEzVjNDMiAyLjQ0NzcyIDIuNDQ3NzIgMiAzIDJaIiBmaWxsPSIjNUY2MzY4Ii8+CjxwYXRoIGQ9Ik05LjUgM0gxMi4yOTI5TDUuNjQ2NDUgOS42NDY0NUw2LjM1MzU1IDEwLjM1MzZMMTMgMy43MDcxMVY2LjVIMTRWMkg5LjVWM1oiIGZpbGw9IiM1RjYzNjgiLz4KPC9zdmc+Cg==")}.dcc-code-sections__optional{color:var(--color-pink-medium)}.dcc-code-sections__value{color:var(--color-code-number)}.dcc-code-sections__deprecated{color:var(--color-red-medium)}.dcc-code-sections__callback{display:block}p>.dcc-code-sections__callback{margin-top:.5em}.dcc-code-sections__overline{border-top:1px solid var(--color-hairline);margin:1em 0;padding-top:get-size(300)}.dcc-code-sections__mode{color:var(--color-code-comment);text-transform:uppercase}.dcc-code-sections li{border-top:1px solid var(--color-hairline);display:flex;flex-direction:column;padding-top:get-size(300);position:relative}.dcc-code-sections li>:first-child{font-weight:500;flex:0 0 auto;flex-shrink:1;min-width:9rem;padding-right:1rem}.dcc-code-sections li>:not(:first-child){flex-grow:1}.dcc-code-sections--summary{padding-left:0}.dcc-code-sections--summary>li:first-child{border-top:0;padding-top:0}@media(min-width: 992px){.dcc-code-sections--summary>li{flex-direction:row}}.dcc-code-sections--summary>li>:first-child{min-width:6.5rem}.dcc-tag-pill{--flow-space: 0.25rem;box-sizing:border-box;border-radius:.75rem;font-weight:500;font-size:.75rem;line-height:1.3333333333;margin:calc(var(--flow-space)/2);background-color:var(--color-blue-lightest);color:var(--color-blue-darkest);margin-bottom:.5rem;padding:.25rem .75rem;cursor:help}.dcc-tag-pill--blue{background-color:var(--color-blue-lightest);color:var(--color-blue-darkest)}.dcc-tag-pill--yellow{background-color:var(--color-yellow-lightest);color:var(--color-yellow-darkest)}.dcc-tag-pill--red{background-color:var(--color-red-lightest);color:var(--color-red-darkest)}.dcc-tag-pill--green{background-color:var(--color-green-lightest);color:var(--color-green-darkest)}.dcc-tag-pill--pink{background-color:var(--color-pink-lightest);color:var(--color-pink-darkest)}.dcc-tag-pill--purple{background-color:var(--color-purple-lightest);color:var(--color-purple-darkest)}a>.dcc-tag-pill{cursor:pointer}




Important:
This API works only on ChromeOS.


Description
Use the chrome.input.ime API to implement a custom IME for Chrome OS. This allows your extension to handle keystrokes, set the composition, and manage the candidate window.

Permissions
input

You must declare the "input" permission in the extension manifest to use the input.ime API. For
example:
{
  "name": "My extension",
  ...
  "permissions": [
    "input"
  ],
  ...
}

Availability

      
        ChromeOS only
      
    



Examples

The following code creates an IME that converts typed letters to upper case.
var context_id = -1;

chrome.input.ime.onFocus.addListener(function(context) {
  context_id = context.contextID;
});

chrome.input.ime.onKeyEvent.addListener(
  function(engineID, keyData) {
    if (keyData.type == "keydown" && keyData.key.match(/^[a-z]$/)) {
      chrome.input.ime.commitText({"contextID": context_id,
                                    "text": keyData.key.toUpperCase()});
      return true;
    } else {
      return false;
    }
  }
);

Types
  
    
      AssistiveWindowButton
    
      Chrome 85+
      
    ID of buttons in assistive window.
Enum
      "undo"  "addToDictionary"  
    
  
    
      AssistiveWindowProperties
    
      Chrome 85+
      
    Properties of the assistive window.
Properties
    
      announceString
      string optional
    Strings for ChromeVox to announce.

    
      type
      "undo"  
    
    
      visible
      boolean
    Sets true to show AssistiveWindow, sets false to hide.

    
    
      AssistiveWindowType
    
      Chrome 85+
      
    Type of assistive window.

      Value
      "undo"  
    
    
      AutoCapitalizeType
    
      Chrome 69+
      
    The auto-capitalize type of the text field.
Enum
      "characters"  "words"  "sentences"  
    
  
    
      InputContext
    Describes an input Context
Properties
    
      autoCapitalize
      AutoCapitalizeType
    
      Chrome 69+
      
    The auto-capitalize type of the text field.

    
      autoComplete
      boolean
    Whether the text field wants auto-complete.

    
      autoCorrect
      boolean
    Whether the text field wants auto-correct.

    
      contextID
      number
    This is used to specify targets of text field operations. This ID becomes invalid as soon as onBlur is called.

    
      shouldDoLearning
      boolean
    
      Chrome 68+
      
    Whether text entered into the text field should be used to improve typing suggestions for the user.

    
      spellCheck
      boolean
    Whether the text field wants spell-check.

    
      type
      InputContextType
    Type of value this text field edits, (Text, Number, URL, etc)

    
    
      InputContextType
    
      Chrome 44+
      
    Type of value this text field edits, (Text, Number, URL, etc)
Enum
      "text"  "search"  "tel"  "url"  "email"  "number"  "password"  "null"  
    
  
    
      KeyboardEvent
    See http://www.w3.org/TR/DOM-Level-3-Events/#events-KeyboardEvent
Properties
    
      altKey
      boolean optional
    Whether or not the ALT key is pressed.

    
      altgrKey
      boolean optional
    
      Chrome 79+
      
    Whether or not the ALTGR key is pressed.

    
      capsLock
      boolean optional
    Whether or not the CAPS_LOCK is enabled.

    
      code
      string
    Value of the physical key being pressed. The value is not affected by current keyboard layout or modifier state.

    
      ctrlKey
      boolean optional
    Whether or not the CTRL key is pressed.

    
      extensionId
      string optional
    The extension ID of the sender of this keyevent.

    
      key
      string
    Value of the key being pressed

    
      keyCode
      number optional
    The deprecated HTML keyCode, which is system- and implementation-dependent numerical code signifying the unmodified identifier associated with the key pressed.

    
      requestId
      string optional
    (Deprecated) The ID of the request. Use the requestId param from the onKeyEvent event instead.

    
      shiftKey
      boolean optional
    Whether or not the SHIFT key is pressed.

    
      type
      KeyboardEventType
    One of keyup or keydown.

    
    
      KeyboardEventType
    
      Chrome 44+
      
    Enum
      "keyup"  "keydown"  
    
  
    
      MenuItem
    A menu item used by an input method to interact with the user from the language menu.
Properties
    
      checked
      boolean optional
    Indicates this item should be drawn with a check.

    
      enabled
      boolean optional
    Indicates this item is enabled.

    
      id
      string
    String that will be passed to callbacks referencing this MenuItem.

    
      label
      string optional
    Text displayed in the menu for this item.

    
      style
      MenuItemStyle optional
    The type of menu item.

    
      visible
      boolean optional
    Indicates this item is visible.

    
    
      MenuItemStyle
    
      Chrome 44+
      
    The type of menu item. Radio buttons between separators are considered grouped.
Enum
      "check"  "radio"  "separator"  
    
  
    
      MenuParameters
    
      Chrome 88+
      
    Properties
    
      engineID
      string
    ID of the engine to use.

    
      items
      MenuItem[]
    MenuItems to add or update. They will be added in the order they exist in the array.

    
    
      MouseButton
    
      Chrome 44+
      
    Which mouse buttons was clicked.
Enum
      "left"  "middle"  "right"  
    
  
    
      ScreenType
    
      Chrome 44+
      
    The screen type under which the IME is activated.
Enum
      "normal"  "login"  "lock"  "secondary-login"  
    
  
    
      UnderlineStyle
    
      Chrome 44+
      
    The type of the underline to modify this segment.
Enum
      "underline"  "doubleUnderline"  "noUnderline"  
    
  
    
      WindowPosition
    
      Chrome 44+
      
    Where to display the candidate window. If set to 'cursor', the window follows the cursor. If set to 'composition', the window is locked to the beginning of the composition.
Enum
      "cursor"  "composition"  
    
  Methods
  
    
      clearComposition()
    
      
        Promise
      
    
        chrome.input.ime.clearComposition(  parameters: object,  callback?: function,)
      Clear the current composition. If this extension does not own the active IME, this fails.
Parameters
    
      parameters
      object
    
    
      contextID
      number
    ID of the context where the composition will be cleared

    
    
      callback
      function optional
    
          The callback parameter looks like:
          (success: boolean) => void
        
    
      success
      boolean
    
    
    Returns
          
            Promise<boolean>
            
      Chrome 111+
      
    
              
                Promises are supported in Manifest V3 and later, but callbacks are provided for
                backward compatibility. You cannot use both on the same function call. The
                promise resolves with the same type that is passed to the callback.
              
            
        
      
    
      commitText()
    
      
        Promise
      
    
        chrome.input.ime.commitText(  parameters: object,  callback?: function,)
      Commits the provided text to the current input.
Parameters
    
      parameters
      object
    
    
      contextID
      number
    ID of the context where the text will be committed

    
      text
      string
    The text to commit

    
    
      callback
      function optional
    
          The callback parameter looks like:
          (success: boolean) => void
        
    
      success
      boolean
    
    
    Returns
          
            Promise<boolean>
            
      Chrome 111+
      
    
              
                Promises are supported in Manifest V3 and later, but callbacks are provided for
                backward compatibility. You cannot use both on the same function call. The
                promise resolves with the same type that is passed to the callback.
              
            
        
      
    
      deleteSurroundingText()
    
      
        Promise
      
    
        chrome.input.ime.deleteSurroundingText(  parameters: object,  callback?: function,)
      Deletes the text around the caret.
Parameters
    
      parameters
      object
    
    
      contextID
      number
    ID of the context where the surrounding text will be deleted.

    
      engineID
      string
    ID of the engine receiving the event.

    
      length
      number
    The number of characters to be deleted

    
      offset
      number
    The offset from the caret position where deletion will start. This value can be negative.

    
    
      callback
      function optional
    
          The callback parameter looks like:
          () => void
        
    Returns
          
            Promise<void>
            
      Chrome 111+
      
    
              
                Promises are supported in Manifest V3 and later, but callbacks are provided for
                backward compatibility. You cannot use both on the same function call. The
                promise resolves with the same type that is passed to the callback.
              
            
        
      
    
      hideInputView()
    
        chrome.input.ime.hideInputView()
      Hides the input view window, which is popped up automatically by system. If the input view window is already hidden, this function will do nothing.

    
      keyEventHandled()
    
        chrome.input.ime.keyEventHandled(  requestId: string,  response: boolean,)
      Indicates that the key event received by onKeyEvent is handled. This should only be called if the onKeyEvent listener is asynchronous.
Parameters
    
      requestId
      string
    Request id of the event that was handled. This should come from keyEvent.requestId

    
      response
      boolean
    True if the keystroke was handled, false if not

    
    
      sendKeyEvents()
    
      
        Promise
      
    
        chrome.input.ime.sendKeyEvents(  parameters: object,  callback?: function,)
      Sends the key events. This function is expected to be used by virtual keyboards. When key(s) on a virtual keyboard is pressed by a user, this function is used to propagate that event to the system.
Parameters
    
      parameters
      object
    
    
      contextID
      number
    ID of the context where the key events will be sent, or zero to send key events to non-input field.

    
      keyData
      KeyboardEvent[]
    Data on the key event.

    
    
      callback
      function optional
    
          The callback parameter looks like:
          () => void
        
    Returns
          
            Promise<void>
            
      Chrome 111+
      
    
              
                Promises are supported in Manifest V3 and later, but callbacks are provided for
                backward compatibility. You cannot use both on the same function call. The
                promise resolves with the same type that is passed to the callback.
              
            
        
      
    
      setAssistiveWindowButtonHighlighted()
    
      
        Promise
      Chrome 86+
      
    
        chrome.input.ime.setAssistiveWindowButtonHighlighted(  parameters: object,  callback?: function,)
      Highlights/Unhighlights a button in an assistive window.
Parameters
    
      parameters
      object
    
    
      announceString
      string optional
    The text for the screenreader to announce.

    
      buttonID
      AssistiveWindowButton
    The ID of the button

    
      contextID
      number
    ID of the context owning the assistive window.

    
      highlighted
      boolean
    Whether the button should be highlighted.

    
      windowType
      "undo"  
    The window type the button belongs to.

    
    
      callback
      function optional
    
          The callback parameter looks like:
          () => void
        
    Returns
          
            Promise<void>
            
      Chrome 111+
      
    
              
                Promises are supported in Manifest V3 and later, but callbacks are provided for
                backward compatibility. You cannot use both on the same function call. The
                promise resolves with the same type that is passed to the callback.
              
            
        
      
    
      setAssistiveWindowProperties()
    
      
        Promise
      Chrome 85+
      
    
        chrome.input.ime.setAssistiveWindowProperties(  parameters: object,  callback?: function,)
      Shows/Hides an assistive window with the given properties.
Parameters
    
      parameters
      object
    
    
      contextID
      number
    ID of the context owning the assistive window.

    
      properties
      AssistiveWindowProperties
    Properties of the assistive window.

    
    
      callback
      function optional
    
          The callback parameter looks like:
          (success: boolean) => void
        
    
      success
      boolean
    
    
    Returns
          
            Promise<boolean>
            
      Chrome 111+
      
    
              
                Promises are supported in Manifest V3 and later, but callbacks are provided for
                backward compatibility. You cannot use both on the same function call. The
                promise resolves with the same type that is passed to the callback.
              
            
        
      
    
      setCandidates()
    
      
        Promise
      
    
        chrome.input.ime.setCandidates(  parameters: object,  callback?: function,)
      Sets the current candidate list. This fails if this extension doesn't own the active IME
Parameters
    
      parameters
      object
    
    
      candidates
      object[]
    List of candidates to show in the candidate window

    
      annotation
      string optional
    Additional text describing the candidate

    
      candidate
      string
    The candidate

    
      id
      number
    The candidate's id

    
      label
      string optional
    Short string displayed to next to the candidate, often the shortcut key or index

    
      parentId
      number optional
    The id to add these candidates under

    
      usage
      object optional
    The usage or detail description of word.

    
      body
      string
    The body string of detail description.

    
      title
      string
    The title string of details description.

    
    
    
      contextID
      number
    ID of the context that owns the candidate window.

    
    
      callback
      function optional
    
          The callback parameter looks like:
          (success: boolean) => void
        
    
      success
      boolean
    
    
    Returns
          
            Promise<boolean>
            
      Chrome 111+
      
    
              
                Promises are supported in Manifest V3 and later, but callbacks are provided for
                backward compatibility. You cannot use both on the same function call. The
                promise resolves with the same type that is passed to the callback.
              
            
        
      
    
      setCandidateWindowProperties()
    
      
        Promise
      
    
        chrome.input.ime.setCandidateWindowProperties(  parameters: object,  callback?: function,)
      Sets the properties of the candidate window. This fails if the extension doesn't own the active IME
Parameters
    
      parameters
      object
    
    
      engineID
      string
    ID of the engine to set properties on.

    
      properties
      object
    
    
      auxiliaryText
      string optional
    Text that is shown at the bottom of the candidate window.

    
      auxiliaryTextVisible
      boolean optional
    True to display the auxiliary text, false to hide it.

    
      currentCandidateIndex
      number optional
    
      Chrome 84+
      
    The index of the current chosen candidate out of total candidates.

    
      cursorVisible
      boolean optional
    True to show the cursor, false to hide it.

    
      pageSize
      number optional
    The number of candidates to display per page.

    
      totalCandidates
      number optional
    
      Chrome 84+
      
    The total number of candidates for the candidate window.

    
      vertical
      boolean optional
    True if the candidate window should be rendered vertical, false to make it horizontal.

    
      visible
      boolean optional
    True to show the Candidate window, false to hide it.

    
      windowPosition
      WindowPosition optional
    Where to display the candidate window.

    
    
    
      callback
      function optional
    
          The callback parameter looks like:
          (success: boolean) => void
        
    
      success
      boolean
    
    
    Returns
          
            Promise<boolean>
            
      Chrome 111+
      
    
              
                Promises are supported in Manifest V3 and later, but callbacks are provided for
                backward compatibility. You cannot use both on the same function call. The
                promise resolves with the same type that is passed to the callback.
              
            
        
      
    
      setComposition()
    
      
        Promise
      
    
        chrome.input.ime.setComposition(  parameters: object,  callback?: function,)
      Set the current composition. If this extension does not own the active IME, this fails.
Parameters
    
      parameters
      object
    
    
      contextID
      number
    ID of the context where the composition text will be set

    
      cursor
      number
    Position in the text of the cursor.

    
      segments
      object[] optional
    List of segments and their associated types.

    
      end
      number
    Index of the character to end this segment after.

    
      start
      number
    Index of the character to start this segment at

    
      style
      UnderlineStyle
    The type of the underline to modify this segment.

    
    
      selectionEnd
      number optional
    Position in the text that the selection ends at.

    
      selectionStart
      number optional
    Position in the text that the selection starts at.

    
      text
      string
    Text to set

    
    
      callback
      function optional
    
          The callback parameter looks like:
          (success: boolean) => void
        
    
      success
      boolean
    
    
    Returns
          
            Promise<boolean>
            
      Chrome 111+
      
    
              
                Promises are supported in Manifest V3 and later, but callbacks are provided for
                backward compatibility. You cannot use both on the same function call. The
                promise resolves with the same type that is passed to the callback.
              
            
        
      
    
      setCursorPosition()
    
      
        Promise
      
    
        chrome.input.ime.setCursorPosition(  parameters: object,  callback?: function,)
      Set the position of the cursor in the candidate window. This is a no-op if this extension does not own the active IME.
Parameters
    
      parameters
      object
    
    
      candidateID
      number
    ID of the candidate to select.

    
      contextID
      number
    ID of the context that owns the candidate window.

    
    
      callback
      function optional
    
          The callback parameter looks like:
          (success: boolean) => void
        
    
      success
      boolean
    
    
    Returns
          
            Promise<boolean>
            
      Chrome 111+
      
    
              
                Promises are supported in Manifest V3 and later, but callbacks are provided for
                backward compatibility. You cannot use both on the same function call. The
                promise resolves with the same type that is passed to the callback.
              
            
        
      
    
      setMenuItems()
    
      
        Promise
      
    
        chrome.input.ime.setMenuItems(  parameters: MenuParameters,  callback?: function,)
      Adds the provided menu items to the language menu when this IME is active.
Parameters
    
      parameters
      MenuParameters
    
    
      callback
      function optional
    
          The callback parameter looks like:
          () => void
        
    Returns
          
            Promise<void>
            
      Chrome 111+
      
    
              
                Promises are supported in Manifest V3 and later, but callbacks are provided for
                backward compatibility. You cannot use both on the same function call. The
                promise resolves with the same type that is passed to the callback.
              
            
        
      
    
      updateMenuItems()
    
      
        Promise
      
    
        chrome.input.ime.updateMenuItems(  parameters: MenuParameters,  callback?: function,)
      Updates the state of the MenuItems specified
Parameters
    
      parameters
      MenuParameters
    
    
      callback
      function optional
    
          The callback parameter looks like:
          () => void
        
    Returns
          
            Promise<void>
            
      Chrome 111+
      
    
              
                Promises are supported in Manifest V3 and later, but callbacks are provided for
                backward compatibility. You cannot use both on the same function call. The
                promise resolves with the same type that is passed to the callback.
              
            
        
      Events
  
    
      onActivate
    
        chrome.input.ime.onActivate.addListener(  callback: function,)
      This event is sent when an IME is activated. It signals that the IME will be receiving onKeyPress events.
Parameters
    
      callback
      function
    
          The callback parameter looks like:
          (engineID: string, screen: ScreenType) => void
        
    
      engineID
      string
    
    
      screen
      ScreenType
    
    
    
    
      onAssistiveWindowButtonClicked
    
      Chrome 85+
      
    
        chrome.input.ime.onAssistiveWindowButtonClicked.addListener(  callback: function,)
      This event is sent when a button in an assistive window is clicked.
Parameters
    
      callback
      function
    
          The callback parameter looks like:
          (details: object) => void
        
    
      details
      object
    
    
      buttonID
      AssistiveWindowButton
    The ID of the button clicked.

    
      windowType
      AssistiveWindowType
    The type of the assistive window.

    
    
    
    
      onBlur
    
        chrome.input.ime.onBlur.addListener(  callback: function,)
      This event is sent when focus leaves a text box. It is sent to all extensions that are listening to this event, and enabled by the user.
Parameters
    
      callback
      function
    
          The callback parameter looks like:
          (contextID: number) => void
        
    
      contextID
      number
    
    
    
    
      onCandidateClicked
    
        chrome.input.ime.onCandidateClicked.addListener(  callback: function,)
      This event is sent if this extension owns the active IME.
Parameters
    
      callback
      function
    
          The callback parameter looks like:
          (engineID: string, candidateID: number, button: MouseButton) => void
        
    
      engineID
      string
    
    
      candidateID
      number
    
    
      button
      MouseButton
    
    
    
    
      onDeactivated
    
        chrome.input.ime.onDeactivated.addListener(  callback: function,)
      This event is sent when an IME is deactivated. It signals that the IME will no longer be receiving onKeyPress events.
Parameters
    
      callback
      function
    
          The callback parameter looks like:
          (engineID: string) => void
        
    
      engineID
      string
    
    
    
    
      onFocus
    
        chrome.input.ime.onFocus.addListener(  callback: function,)
      This event is sent when focus enters a text box. It is sent to all extensions that are listening to this event, and enabled by the user.
Parameters
    
      callback
      function
    
          The callback parameter looks like:
          (context: InputContext) => void
        
    
      context
      InputContext
    
    
    
    
      onInputContextUpdate
    
        chrome.input.ime.onInputContextUpdate.addListener(  callback: function,)
      This event is sent when the properties of the current InputContext change, such as the the type. It is sent to all extensions that are listening to this event, and enabled by the user.
Parameters
    
      callback
      function
    
          The callback parameter looks like:
          (context: InputContext) => void
        
    
      context
      InputContext
    
    
    
    
      onKeyEvent
    
        chrome.input.ime.onKeyEvent.addListener(  callback: function,)
      Fired when a key event is sent from the operating system. The event will be sent to the extension if this extension owns the active IME. The listener function should return true if the event was handled false if it was not. If the event will be evaluated asynchronously, this function must return undefined and the IME must later call keyEventHandled() with the result.
Parameters
    
      callback
      function
    
          The callback parameter looks like:
          (engineID: string, keyData: KeyboardEvent, requestId: string) => boolean | undefined
        
    
      engineID
      string
    
    
      keyData
      KeyboardEvent
    
    
      requestId
      string
    
    
          
            returnsboolean | undefined
            
        
      
    
    
      onMenuItemActivated
    
        chrome.input.ime.onMenuItemActivated.addListener(  callback: function,)
      Called when the user selects a menu item
Parameters
    
      callback
      function
    
          The callback parameter looks like:
          (engineID: string, name: string) => void
        
    
      engineID
      string
    
    
      name
      string
    
    
    
    
      onReset
    
        chrome.input.ime.onReset.addListener(  callback: function,)
      This event is sent when chrome terminates ongoing text input session.
Parameters
    
      callback
      function
    
          The callback parameter looks like:
          (engineID: string) => void
        
    
      engineID
      string
    
    
    
    
      onSurroundingTextChanged
    
        chrome.input.ime.onSurroundingTextChanged.addListener(  callback: function,)
      Called when the editable string around caret is changed or when the caret position is moved. The text length is limited to 100 characters for each back and forth direction.
Parameters
    
      callback
      function
    
          The callback parameter looks like:
          (engineID: string, surroundingInfo: object) => void
        
    
      engineID
      string
    
    
      surroundingInfo
      object
    
    
      anchor
      number
    The beginning position of the selection. This value indicates caret position if there is no selection.

    
      focus
      number
    The ending position of the selection. This value indicates caret position if there is no selection.

    
      offset
      number
    
      Chrome 46+
      
    The offset position of text. Since text only includes a subset of text around the cursor, offset indicates the absolute position of the first character of text.

    
      text
      string
    The text around the cursor. This is only a subset of all text in the input field.

    
    
    

  

  


  

  
    
    
      
    
    
  
       
    
    
  

  
  
  
  

